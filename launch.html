<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Upload PDF to TMS</title>
    <script>
        // Replace %WorkOrderID% with TMS variable for current work order
        const workOrderID = "%WorkOrderID%";

        function openUploadPage() {
            // URL of your HTTPS listener (FastAPI/Flask) that handles PDF upload
            const uploadUrl = `https://your-server.com/upload?workorder=${encodeURIComponent(workOrderID)}`;

            // Open in a new tab
            window.open(uploadUrl, "_blank");
        }

        // Auto-run when page loads
        window.onload = openUploadPage;
    </script>
</head>
<body>
    <h3>Launching PDF upload for Work Order: <span id="woid">%WorkOrderID%</span></h3>
    <p>If the upload page does not open automatically, click 
       <a href="#" onclick="openUploadPage()">here</a>.
    </p>
</body>
</html>
